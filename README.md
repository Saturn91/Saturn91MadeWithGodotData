# Saturn91 Made With Godot Data

This repository serves as a data source for a Godot widget that randomly promotes games made with Godot. The data is stored in structured `.cfg` files that contain game information including URLs, developer details, and preview images.

## üìÅ Repository Structure

- `file_*.cfg` - Data files containing game information (up to 100 games per file)
- `_index.cfg` - Auto-generated index file tracking total files and games (DO NOT EDIT MANUALLY)
- `.scripts/` - Validation scripts folder
  - `validate-and-update.sh` - Format validation and automatic index updates
  - `validate-urls.sh` - URL validation (HTTP 200 + image content type checks)
  - `run-validation.ps1` - PowerShell wrapper for validation (Windows)
  - `run-url-validation.ps1` - PowerShell wrapper for URL validation (Windows)

## üìã File Format

Each `file_*.cfg` follows this structure:

```ini
[link_0]
url=https://store.steampowered.com/app/1234567/GameName/
developer=DeveloperName
dev_link=https://developer-website.com
preview_image=https://example.com/image.jpg

[link_1]
url=https://example.itch.io/game
developer=AnotherDev
dev_link=https://another-dev.com
preview_image=https://example.com/another-image.png
```

### Field Requirements

- **url**: Link to the game (Steam, itch.io, etc.)
- **developer**: Name of the game developer
- **dev_link**: Developer's website or profile URL
- **preview_image**: Direct link to a preview image (must return an image content type)

### Validation Rules

1. Each file can contain a maximum of **100 games** (link_0 to link_99)
2. Links must be numbered sequentially starting from 0
3. Each link section must have exactly 4 fields (url, developer, dev_link, preview_image)
4. No empty lines or extra fields allowed
5. Field format must be: `fieldname="value"` (values must be wrapped in double quotes)
6. `preview_image` must have aspect ratio of **460:215** (approximately 16:9)

## üöÄ Adding New Games

### Option 1: Manual Addition

1. Fork this repository
2. Edit an existing `file_*.cfg` or create a new one if existing files have 100 games
3. Add your game entry following the format above
4. Create a pull request

### Option 2: Using the Widget

_The Godot widget will be linked here once available_

## ‚úÖ Validation

The repository includes automated validation to ensure data quality which will run on your PR:

**What it checks:**
- All URLs return HTTP 200 OK
- `preview_image` URLs return actual image content types (image/jpeg, image/png, etc.)
- `preview_image` dimensions match aspect ratio of 460:215 (¬±10% tolerance)
- All links are accessible

## ü§ñ Automated Workflow

Pull requests automatically trigger validation via GitHub Actions:

1. ‚úÖ Format validation of changed `.cfg` files
2. ‚úÖ URL validation (HTTP 200 + image content type + aspect ratio checks)
3. ‚úÖ Auto-updates `_index.cfg` with current file/game counts
4. ‚úÖ Auto-commits index changes if needed

**Note:** The `_index.cfg` file is automatically managed. Do not edit it manually!

## üìä Index File

The `_index.cfg` file tracks repository statistics:

```ini
# DO NOT EDIT THIS FILE MANUALLY
[index]
file_count="1"      # Number of file_*.cfg files
link_count="3"      # Total number of games
links_per_file="100" # Maximum games per file
```

This file is automatically updated by the validation script and should never be edited manually.

## üéÆ Using the Data

The Godot widget will consume this data to randomly display and promote games made with Godot. 

_Widget repository link will be added here_

## üìù Contributing

1. Ensure your game is made with Godot Engine
2. (later state) prove to us that you added the widget in your main menu (screenshot)
3. Provide valid URLs that return HTTP 200
4. Use decent-quality preview image (direct image link, not a webpage) but try to limit its size
5. Follow the file format exactly

## ‚ö†Ô∏è Common Issues

**Validation fails with "Contains X links (max 100 allowed)"**
- Create a new file: `file_1.cfg`, `file_2.cfg`, etc.

**URL validation fails with "HTTP 000"**
- The URL is unreachable or times out (10 second timeout)
- Check if the URL is correct and accessible

**Image validation fails with "not an image"**
- The preview_image URL doesn't return an image content type
- Make sure you're linking directly to an image file, not a webpage

**Image validation fails with "wrong aspect ratio"**
- The preview_image dimensions don't match 460:215 aspect ratio
- Resize your image to approximately 460x215 pixels (or any resolution with 16:9 aspect ratio)
- The validation allows ¬±10% tolerance for the aspect ratio

**"_index.cfg has been manually modified"**
- Revert changes to `_index.cfg` - this file is auto-generated
- Let the validation script update it automatically

## üìú License

This repository contains curated data about games made with Godot. Each game remains the property of its respective developer/publisher.
